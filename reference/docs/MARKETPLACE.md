# MARKETPLACE: Content and Journey Sharing Platform

## 1. Introduction

### 1.1 Purpose and Value Proposition

The ABCD Marketplace is a centralized platform where behavioral coaching content and journey blueprints can be shared, discovered, and acquired across organizations. It acts as a knowledge exchange that:

- Enables Expert Organizations to share their expertise and proven interventions with a broader audience
- Allows Client Organizations to access high-quality, pre-built content without needing to create everything from scratch
- Creates a community of practice around behavioral coaching best practices
- Accelerates impact by making effective interventions more widely available
- Introduces potential revenue opportunities for content creators (Expert Organizations)

The Marketplace is designed to increase the efficiency and effectiveness of behavioral coaching programs by providing a library of verified, field-tested content and journey blueprints that can be quickly implemented or adapted to specific contexts.

### 1.2 Target Users

**Expert Organizations:**
- Content Specialists who create and upload content modules and journey blueprints
- Expert Organization Admins who manage licensing terms and review analytics

**Client Organizations:**
- Training Managers seeking quality content for their programs
- Program Managers looking for effective journey blueprints with proven outcomes
- Organization Admins who approve purchases/acquisitions

**ABCD Platform Administrators:**
- Review and approve marketplace listings
- Monitor platform usage and address disputes
- Ensure quality standards are maintained

### 1.3 Integration with Other Platform Modules

The Marketplace is deeply integrated with several other platform modules:

- **Content Management**: Content created in the CMS can be published to the Marketplace. Content acquired from the Marketplace appears in the organization's content library.
- **Journey Builder**: Journey Blueprints can be published to or acquired from the Marketplace. Acquired journeys become available in the Journey Builder for customization.
- **Program Implementation**: Acquired journeys and content can be directly used in Programs.
- **Organizations Module**: User permissions, billing, and organizational relationships are managed through this module.
- **Analytics**: Performance data from programs using acquired content/journeys provides evidence of effectiveness that can be surfaced in marketplace listings.

## 2. Core Marketplace Concepts

### 2.1 Listing Types

The Marketplace supports two primary types of listings:

#### 2.1.1 Content Modules

Individual pieces of content that can be used within journeys, including:
- Text-based content (messages, articles)
- Rich media (images, videos, audio)
- Interactive elements (quizzes, assessments)
- Reflection prompts
- Templates for messages

Content modules are the building blocks of journeys and can be acquired individually or as part of collections.

#### 2.1.2 Journey Blueprints

Complete pre-designed journeys that include:
- Structured phases
- Sequenced touchpoints
- Branching logic and rules
- Pre-configured content
- Recommended deployment parameters

Journey Blueprints offer a higher level of value as they represent complete, tested intervention strategies rather than individual content pieces.

### 2.2 Publishing and Acquisition Workflow

The Marketplace operates on a structured workflow:

#### 2.2.1 Publishing Flow

1. **Creation**: Content Specialists create content or journey blueprints using the platform tools
2. **Preparation**: The item is prepared for marketplace listing with descriptions, previews, and metadata
3. **Licensing**: Publishing organization defines licensing terms and usage conditions
4. **Submission**: The listing is submitted for approval
5. **Review**: ABCD Platform administrators review the submission for quality and appropriateness
6. **Publication**: Upon approval, the listing becomes visible in the Marketplace
7. **Analytics**: Publishers can monitor acquisition statistics and reviews

#### 2.2.2 Acquisition Flow

1. **Discovery**: Users browse or search the Marketplace for relevant content
2. **Evaluation**: Potential acquirers review listing details, previews, and ratings
3. **Decision**: Organization decides to acquire the content/journey
4. **Licensing Agreement**: User accepts the licensing terms
5. **Acquisition**: The system processes the acquisition (including payment if applicable)
6. **Import**: Content is imported into the organization's library
7. **Utilization**: Acquired content/journeys can be used, customized, and deployed
8. **Feedback**: Users can provide ratings and reviews based on their experience

### 2.3 Licensing Models and Permissions

The Marketplace supports multiple licensing models to accommodate different sharing needs:

#### 2.3.1 License Types

- **Open**: Free to use with attribution, may be modified
- **Standard**: Free to use, no modifications allowed
- **Premium**: Paid license, may include usage limitations
- **Enterprise**: Negotiated terms for large-scale usage
- **Custom**: Publisher-defined special terms

#### 2.3.2 License Parameters

Licenses may specify:
- Duration (time-limited or perpetual)
- Usage scope (number of workers/programs)
- Modification rights (can be adapted or must be used as-is)
- Attribution requirements
- Geographic or sector limitations
- Commercial usage restrictions

#### 2.3.3 License Enforcement

The platform enforces licensing through:
- Technical controls (limiting access based on license terms)
- Terms of Service agreements
- Usage tracking and reporting
- Dispute resolution mechanisms

### 2.4 Rating and Review System

To maintain quality and provide guidance to potential acquirers, the Marketplace includes a comprehensive rating and review system:

#### 2.4.1 Rating Dimensions

- Overall quality (1-5 stars)
- Ease of implementation
- Effectiveness
- Adaptation flexibility
- Support quality (if applicable)

#### 2.4.2 Review Components

- Written feedback
- Implementation context details
- Results achieved (optional)
- Challenges encountered
- Suggestions for improvement

#### 2.4.3 Review Moderation

- Reviews are moderated to ensure they are constructive and appropriate
- Publishers can respond to reviews
- Misleading or inappropriate reviews can be flagged for moderation

### 2.5 Quality Assurance and Moderation

To maintain the integrity and value of the Marketplace, several quality control mechanisms are in place:

#### 2.5.1 Submission Review

All new listings undergo review by ABCD Platform administrators before publication, checking for:
- Completeness and accuracy of information
- Appropriateness of content
- Clarity of licensing terms
- Technical functionality
- Adherence to platform guidelines

#### 2.5.2 Ongoing Monitoring

- Performance metrics of listings are tracked
- User reports of issues are investigated
- Periodic review of older listings ensures continued relevance
- Automatic flagging of potentially problematic content

#### 2.5.3 Takedown Procedures

- Listings that violate terms or fall below quality standards can be removed
- Appeals process for disputed takedowns
- Archiving rather than deletion to preserve acquired content

## 3. User Roles and Permissions

The Marketplace module implements a role-based access control system that aligns with the broader platform's permission structure, with specific marketplace-related capabilities.

### 3.1 Expert Organization Roles

#### 3.1.1 Expert Organization Admin

**Permissions:**
- View all organization's marketplace listings
- Approve content for marketplace submission
- Set and modify licensing terms and pricing
- Respond to reviews on behalf of the organization
- Access detailed acquisition analytics
- Withdraw organization's listings from the marketplace
- Set default licensing templates for the organization
- Manage payment and payout information (if applicable)

#### 3.1.2 Content Specialist

**Permissions:**
- Create and edit content/journeys
- Prepare content for marketplace submission
- Recommend licensing terms
- Submit items for internal review (to Admin)
- View basic performance metrics for created content
- Respond to reviews (if granted by Admin)
- Update existing marketplace listings

### 3.2 Client Organization Roles

#### 3.2.1 Organization Admin

**Permissions:**
- View and browse marketplace listings
- Authorize acquisitions (especially for premium/paid content)
- Set acquisition budgets and policies
- View all organization's acquired content
- Delegate acquisition authority to other roles
- Manage licensing compliance

#### 3.2.2 Training Manager

**Permissions:**
- Browse and search marketplace listings
- Preview content and journeys
- Acquire content (within authorization limits)
- Import acquired content to the organization library
- Provide ratings and reviews
- Manage acquired content
- Request acquisition approval for items beyond authorization limits

#### 3.2.3 Program Manager

**Permissions:**
- Browse and search marketplace listings
- Preview content and journeys
- Acquire free/pre-approved content
- Incorporate acquired content into programs
- Provide ratings and reviews
- Request acquisition approval for premium content

### 3.3 ABCD Platform Administrator

**Permissions:**
- Review and approve/reject marketplace submissions
- Moderate reviews and ratings
- Monitor marketplace activities and metrics
- Handle disputes between publishers and acquirers
- Remove inappropriate content
- Feature selected content on the marketplace homepage
- Set platform-wide marketplace policies
- Access all marketplace data and analytics

### 3.4 Permission Implementation

User permissions are implemented through:

1. **Frontend UI Adaptation**:
   - Navigation items and actions only appear for authorized roles
   - Buttons are disabled or hidden based on permission checks
   - Forms adapt to show only allowable fields

2. **API Authorization**:
   - Backend API endpoints check user permissions before processing requests
   - Responses are filtered based on user access level
   - Unauthorized requests return appropriate error messages

3. **Role Assignment**:
   - Roles are assigned at the organization level
   - Special marketplace permissions can be granted to specific users
   - Permission changes take effect immediately across the platform

## 4. Marketplace Pages and Features

### 4.1 Marketplace Browsing Interface

The central hub for discovering content and journey blueprints.

#### 4.1.1 Page Structure

**Route**: `/marketplace`

**Layout**:
- Header with search bar and filter controls
- Main content area with listing grid/list (toggleable)
- Sidebar with filter options
- Featured content carousel at top (for promoted listings)
- Category navigation
- Sorting controls

**Key Components**:
- `MarketplaceBrowsePage`: Main page component
- `ListingCard`: Card display for individual listings
- `FeaturedCarousel`: Showcase for featured listings
- `FilterSidebar`: Collapsible filter panel
- `SearchBar`: Search input with suggestions
- `CategoryNav`: Category navigation menu
- `SortControls`: Dropdown for sorting options

**State Management**:
- Filter state (categories, price range, rating, etc.)
- Search query
- Pagination state
- View mode (grid/list)
- Sort order

**Functionality**:
- Infinite scrolling or pagination for listings
- Quick preview on hover/click
- Add to wishlist/save for later
- Quick acquisition for free content
- Filter persistence across sessions

#### 4.1.2 Search and Filtering

**Search Capabilities**:
- Full-text search across titles, descriptions, and metadata
- Search suggestion dropdown
- Recent searches
- Popular search terms

**Filter Categories**:
- Content type (module, journey)
- Domain/category (leadership, wellbeing, technical skills, etc.)
- License type (free, paid, open, etc.)
- Rating threshold
- Publication date
- Language
- Creator (organization)
- Usage metrics (popularity)
- Duration (for journeys)

**UI Implementation**:
- Checkboxes for multi-select options
- Range sliders for numeric filters
- Tag selection for categories
- Instant filter application (no submit button needed)
- Filter count indicators
- Clear all/clear individual filter options

#### 4.1.3 Listing Card Design

Each listing is represented by a card in the browse view with:
- Thumbnail/preview image
- Title
- Creating organization (with logo)
- License type indicator
- Rating display (stars + count)
- Brief description snippet
- Tags/categories
- Acquisition button (varies by license type)
- Quick action menu (save, share, details)

#### 4.1.4 Responsive Behavior

- Grid adjusts columns based on screen size (4→3→2→1)
- Filters collapse to modal/drawer on mobile
- Search becomes prominent on smaller screens
- List view option better suited for mobile

### 4.2 Listing Detail Page

Comprehensive view of a specific marketplace listing.

#### 4.2.1 Page Structure

**Route**: `/marketplace/listings/[listingId]`

**Layout**:
- Breadcrumb navigation
- Header with title, creator, and key metadata
- Main content area with tabs (Overview, Content, Reviews, License)
- Sidebar with acquisition actions and information
- Related/similar listings section at bottom

**Key Components**:
- `ListingDetailPage`: Main page component
- `ListingHeader`: Title, creator, metadata display
- `PreviewGallery`: Visual preview of content
- `ContentPreview`: Interactive preview of content sample
- `ReviewSection`: Reviews and ratings display
- `LicenseDetails`: License terms explanation
- `AcquisitionSidebar`: Actions and information for acquiring
- `RelatedListings`: Similar content suggestions

**State Management**:
- Current tab selection
- Preview state (position in gallery, expanded view)
- Review pagination
- Acquisition process state

**Functionality**:
- Interactive preview of sample content
- Full overview of features and benefits
- Complete license term details
- Social sharing capabilities
- Discussion/Q&A section (optional)

#### 4.2.2 Content Preview

**Preview Types**:
- Text content: Formatted sample
- Media: Thumbnail with expand option
- Interactive: Limited functional demo
- Journey: Visual flow diagram with sample touchpoints

**Preview Controls**:
- Expand/collapse
- Navigate through multiple previews
- Sample interaction (for interactive content)
- Journey flow visualization (for journey blueprints)

#### 4.2.3 Review and Rating Display

**Review Components**:
- Overall rating summary (average, distribution)
- Individual review cards with:
  - Reviewer info (name, organization, role)
  - Rating across dimensions
  - Review text
  - Helpful/not helpful voting
  - Publisher response (if any)
- Sort and filter options for reviews
- Review submission form (for those who acquired the content)

#### 4.2.4 Acquisition Panel

**Sidebar Elements**:
- License type badge
- Price (if applicable)
- Key limitations summary
- Organization budget remaining (if applicable)
- Acquisition button
- Save to wishlist option
- Report issue button
- Share button

**Acquisition Process**:
- Click acquisition button
- License terms confirmation modal
- Authorization check (if required)
- Processing indicator
- Success confirmation with next steps
- Import options (immediate or later)

### 4.3 Publishing Interface

Interface for Expert Organizations to publish content to the Marketplace.

#### 4.3.1 Page Structure

**Route**: `/marketplace/publish`

**Layout**:
- Multi-step form wizard
- Progress indicator
- Preview panel showing listing appearance
- Sidebar with tips and requirements

**Key Components**:
- `MarketplacePublishPage`: Main page component
- `PublishingWizard`: Multi-step form controller
- `ContentSelector`: To choose content to publish
- `ListingDetailsForm`: For metadata and descriptions
- `PreviewConfiguration`: For setting up preview content
- `LicenseConfigurationForm`: For setting terms
- `ListingPreview`: Real-time preview of listing appearance
- `PublishSummary`: Final review before submission

**Wizard Steps**:
1. Select content to publish
2. Configure basic listing details
3. Prepare preview content
4. Set license terms and conditions
5. Review and submit

**State Management**:
- Multi-step form state
- Selected content reference
- Form validation status
- Submission status
- Upload progress (for additional materials)

#### 4.3.2 Content Selection

**Selection UI**:
- Tabs for content types (modules, journeys)
- Grid/list of available unpublished content
- Search and filter options
- Multi-select for bundling related content
- Option to create new content specifically for marketplace

#### 4.3.3 Listing Configuration

**Metadata Fields**:
- Title (may default from content, but customizable)
- Description (short and long versions)
- Categories/tags selection
- Language(s)
- Target audience
- Estimated impact
- Prerequisites
- Implementation guidance
- Custom fields based on content type

**Preview Configuration**:
- Upload listing thumbnail/featured image
- Select content sections for preview
- Configure demo limitations
- Add screenshots/additional images
- Record walkthrough video (optional)

#### 4.3.4 License Configuration

**License UI**:
- License type selection
- Term customization based on type
- Pricing configuration (if applicable)
- Usage limitation settings
- Attribution requirements
- Special conditions text field
- License template selection/saving

#### 4.3.5 Submission Process

- Final review of all information
- Terms and conditions acceptance
- Submit for internal review (Org Admin) or direct to platform review
- Status tracking after submission
- Edit option for rejected submissions

### 4.4 My Listings Management

Interface for Expert Organizations to manage their published content.

#### 4.4.1 Page Structure

**Route**: `/marketplace/my-listings`

**Layout**:
- Filterable table/grid of listings
- Status indicators
- Performance metrics summary
- Bulk action controls

**Key Components**:
- `MyListingsPage`: Main page component
- `ListingManagementTable`: Data table of listings
- `ListingStatusBadge`: Visual status indicator
- `PerformanceMetricsCard`: Analytics summary
- `BulkActionToolbar`: Multi-select actions

**State Management**:
- Filter/sort state
- Selection state for bulk actions
- Pagination state
- Edit/update modal state

**Functionality**:
- View all organization's marketplace listings
- Filter by status, type, performance
- Edit existing listings
- Remove/archive listings
- Respond to reviews
- View detailed analytics

#### 4.4.2 Listing Management

**Listing Management Actions**:
- Edit listing details
- Update preview content
- Modify license terms
- Control listing visibility (publish/unpublish)
- Archive outdated content
- Respond to reviews
- View acquisition history

**Status Tracking**:
- Draft: Not yet submitted
- Pending Review: Awaiting admin approval
- Rejected: Not approved with reasons
- Published: Live on marketplace
- Featured: Highlighted on marketplace
- Unpublished: Temporarily hidden
- Archived: Permanently removed but preserved

#### 4.4.3 Analytics Dashboard

**Performance Metrics**:
- Views/impressions
- Detail page visits
- Preview interactions
- Acquisition count
- Revenue (if applicable)
- Rating average and distribution
- Review count
- Conversion rate (views to acquisitions)

**Visualization**:
- Time-series charts for trends
- Comparison against marketplace averages
- Demographic breakdown of acquirers
- Geographic distribution
- Heatmap of interest by organization type

### 4.5 Acquisitions Management

Interface for Client Organizations to manage their acquired content.

#### 4.5.1 Page Structure

**Route**: `/marketplace/acquisitions`

**Layout**:
- Tabbed interface (All, Content, Journeys)
- Sortable table of acquisitions
- Usage summary
- License expiration alerts
- Import actions

**Key Components**:
- `MarketplaceAcquisitionsPage`: Main page component
- `AcquisitionTable`: Data table of acquired items
- `LicenseAlert`: Warning for expiring licenses
- `ImportStatus`: Status of pending imports
- `UsageSummary`: How acquired content is being used

**State Management**:
- Tab selection
- Table sort/filter state
- Bulk action selection
- Import modal state

**Functionality**:
- View all acquisitions with status
- Import/reimport content to library
- Track license expirations
- Manage usage compliance
- Submit reviews for acquired content

#### 4.5.2 Acquisition Status Tracking

**Status Types**:
- Pending Import: Acquired but not yet imported
- Imported: Added to organization library
- In Use: Currently used in programs
- License Expiring: Approaching end of license period
- License Expired: No longer usable under license
- Updated Available: Publisher has updated the content

**Management Actions**:
- Import to library
- Add to program directly
- Renew license
- Contact publisher
- Submit review
- Report issue

#### 4.5.3 Usage Tracking

**Usage Metrics**:
- Programs using the content
- Workers exposed to content
- Completion rates
- Performance impact
- Adaptation tracking (if modified)
- License compliance status

**Visualization**:
- Usage timeline
- Program distribution
- Worker reach
- Effectiveness metrics
- License utilization percentage

### 4.6 Review System

Interfaces for submitting and managing reviews.

#### 4.6.1 Review Submission

**Modal Interface** triggered from:
- Acquisition management page
- Listing detail page (if already acquired)
- Post-completion prompt in programs

**Review Form Elements**:
- Star ratings for multiple dimensions
- Written review text area
- Context information (how it was used)
- Results/outcomes section
- Implementation tips
- Anonymous option
- Evidence upload (optional screenshots, data)

#### 4.6.2 Review Management

**For Reviewers**:
- Edit existing reviews
- Delete reviews
- Respond to publisher comments
- Mark reviews as helpful

**For Publishers**:
- Respond to reviews
- Flag inappropriate reviews
- Feature selected reviews
- Analyze review themes

**For Administrators**:
- Moderate flagged reviews
- Remove inappropriate content
- Feature high-quality reviews
- Monitor review quality metrics

## 5. UI Components and Design

### 5.1 Design System and Principles

The Marketplace UI follows the platform's overall design system while adding specialized components for marketplace-specific functionality. Key design principles include:

#### 5.1.1 Visual Language

- **Color Palette**: 
  - Primary application colors plus:
  - Marketplace-specific accent colors for badges/labels
  - License type color coding (green for open, blue for standard, purple for premium)
  - Rating visualization colors

- **Typography**:
  - Consistent with platform typography
  - Emphasis on readability for product descriptions
  - Clear hierarchy between listing titles, descriptions, and metadata

- **Iconography**:
  - Custom marketplace-specific icons for:
    - Listing types (content, journey)
    - License types
    - Acquisition status
    - Review indicators
    - Publication status

#### 5.1.2 Layout Guidelines

- **Grid System**:
  - Responsive 12-column grid
  - Card layouts adapt from 4-columns (desktop) to 1-column (mobile)
  - Consistent gutters and margins with platform standards
  - Sidebar width of 280px on marketplace browse pages

- **White Space**:
  - Generous spacing between listing cards (24px)
  - Section padding of 32px
  - Content grouping with 16px internal spacing
  - Breathing room around important actions (20px minimum)

- **Responsive Breakpoints**:
  - Follow platform standards:
    - Desktop: 1200px+
    - Tablet: 768px-1199px
    - Mobile: <768px
  - Special marketplace-specific treatments for tablet portrait (filters collapse)

### 5.2 Page-Specific Component Architecture

#### 5.2.1 Marketplace Browse Page

**Component Hierarchy**:
```
<MarketplaceBrowsePage>
  <PageHeader title="Marketplace" />
  <SearchBar />
  <ViewToggle />  <!-- Grid/List toggle -->
  
  <div className="marketplace-layout">
    <FilterSidebar>
      <FilterSection title="Content Type">
        <Checkbox /> <!-- Multiple options -->
      </FilterSection>
      <FilterSection title="Categories">
        <TagSelector /> <!-- Multiple selection -->
      </FilterSection>
      <FilterSection title="License Type">
        <RadioGroup /> <!-- Single selection -->
      </FilterSection>
      <!-- Additional filter sections -->
    </FilterSidebar>
    
    <div className="marketplace-content">
      <FeaturedCarousel>
        <FeaturedListingCard /> <!-- Repeated -->
      </FeaturedCarousel>
      
      <SortControls />
      
      <div className="listings-grid">
        <ListingCard /> <!-- Repeated for each listing -->
      </div>
      
      <Pagination />
    </div>
  </div>
</MarketplaceBrowsePage>
```

**Component Specifications**:

`<ListingCard>` component:
```typescript
interface ListingCardProps {
  id: string;
  title: string;
  description: string;
  thumbnailUrl: string;
  creatorName: string;
  creatorLogo: string;
  contentType: 'module' | 'journey';
  licenseType: 'open' | 'standard' | 'premium' | 'enterprise' | 'custom';
  rating: number;
  reviewCount: number;
  tags: string[];
  isNew?: boolean;
  isFeatured?: boolean;
  onClick: (id: string) => void;
  onActionClick: (action: 'acquire' | 'save' | 'share', id: string) => void;
}
```

**CSS/Styling Approach**:
```css
/* Using CSS Modules with descriptive naming */
.listingCard {
  display: flex;
  flex-direction: column;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: transform 0.2s, box-shadow 0.2s;
  height: 100%;
}

.listingCard:hover {
  transform: translateY(-4px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.listingThumbnail {
  height: 160px;
  background-size: cover;
  background-position: center;
  position: relative;
}

/* Additional styles... */
```

#### 5.2.2 Listing Detail Page

**Component Hierarchy**:
```
<ListingDetailPage>
  <Breadcrumbs />
  <ListingHeader>
    <ListingTitle />
    <CreatorInfo />
    <ListingMeta />
    <ActionButtons />
  </ListingHeader>
  
  <div className="listing-detail-layout">
    <div className="listing-main-content">
      <TabNavigation>
        <Tab label="Overview" />
        <Tab label="Content" />
        <Tab label="Reviews" />
        <Tab label="License" />
      </TabNavigation>
      
      <TabContent>
        <!-- Overview Tab -->
        <OverviewTab>
          <ListingDescription />
          <FeatureList />
          <UsageTips />
          <ImpactMetrics />
        </OverviewTab>
        
        <!-- Content Tab -->
        <ContentTab>
          <PreviewGallery />
          <ContentSample />
          <ContentStructure />
        </ContentTab>
        
        <!-- Reviews Tab -->
        <ReviewsTab>
          <RatingSummary />
          <ReviewList>
            <ReviewCard /> <!-- Repeated -->
          </ReviewList>
        </ReviewsTab>
        
        <!-- License Tab -->
        <LicenseTab>
          <LicenseTerms />
          <UsageLimitations />
          <AttributionRequirements />
        </LicenseTab>
      </TabContent>
    </div>
    
    <aside className="listing-sidebar">
      <AcquisitionPanel>
        <LicenseBadge />
        <PriceDisplay />
        <AcquireButton />
        <SaveButton />
        <ShareButton />
      </AcquisitionPanel>
      
      <CreatorCardCompact />
      
      <RelatedListings>
        <RelatedListingItem /> <!-- Repeated -->
      </RelatedListings>
    </aside>
  </div>
  
  <SimilarListings>
    <ListingCard /> <!-- Repeated -->
  </SimilarListings>
</ListingDetailPage>
```

**Component Specifications**:

`<ReviewCard>` component:
```typescript
interface ReviewCardProps {
  reviewer: {
    name: string;
    organization: string;
    avatarUrl?: string;
  };
  rating: number;
  dimensionRatings?: {
    [key: string]: number; // e.g., { "Ease of Use": 4, "Effectiveness": 5 }
  };
  reviewText: string;
  date: string;
  helpfulCount: number;
  publisherResponse?: {
    text: string;
    respondentName: string;
    responseDate: string;
  };
  onMarkHelpful: () => void;
  onReply?: (text: string) => void; // Only for publishers
}
```

**Responsive Design**:
```css
/* Mobile adjustments */
@media (max-width: 768px) {
  .listing-detail-layout {
    flex-direction: column;
  }
  
  .listing-sidebar {
    order: -1; /* Move acquisition panel above content on mobile */
    margin-bottom: 24px;
  }
  
  .listing-main-content {
    padding: 0;
  }
}
```

#### 5.2.3 Publish Listing Page

**Component Hierarchy**:
```
<PublishListingPage>
  <PageHeader title="Publish to Marketplace" />
  
  <StepIndicator currentStep={currentStep} steps={totalSteps} />
  
  <div className="publish-layout">
    <div className="publish-form">
      <!-- Step 1: Select Content -->
      {currentStep === 1 && (
        <ContentSelectionStep>
          <ContentTypeSelector />
          <ContentSearchFilters />
          <ContentGrid>
            <ContentSelectionCard /> <!-- Repeated -->
          </ContentGrid>
        </ContentSelectionStep>
      )}
      
      <!-- Step 2: Listing Details -->
      {currentStep === 2 && (
        <ListingDetailsStep>
          <TextField label="Title" />
          <TextAreaField label="Short Description" />
          <RichTextEditor label="Full Description" />
          <CategorySelector />
          <TagsInput />
          <LanguageSelector />
          <TargetAudienceSelector />
        </ListingDetailsStep>
      )}
      
      <!-- Step 3: Preview Configuration -->
      {currentStep === 3 && (
        <PreviewConfigStep>
          <ThumbnailUploader />
          <PreviewContentSelector />
          <ScreenshotGallery />
          <DemoSettingsForm />
        </PreviewConfigStep>
      )}
      
      <!-- Step 4: License Configuration -->
      {currentStep === 4 && (
        <LicenseConfigStep>
          <LicenseTypeSelector />
          <LicenseTermsForm />
          <PricingConfiguration />
          <UsageLimitationsForm />
        </LicenseConfigStep>
      )}
      
      <!-- Step 5: Review & Submit -->
      {currentStep === 5 && (
        <SubmitStep>
          <ListingSummary />
          <TermsAndConditionsCheckbox />
          <SubmissionOptions />
        </SubmitStep>
      )}
      
      <StepNavigation>
        <BackButton />
        <NextButton />
      </StepNavigation>
    </div>
    
    <div className="publish-preview">
      <PreviewCard>
        <ListingPreview />
      </PreviewCard>
      <PublishingTips />
    </div>
  </div>
</PublishListingPage>
```

### 5.3 Reusable Component Library

#### 5.3.1 Core Marketplace Components

The Marketplace module includes several specialized components that extend the platform's base UI components:

1. **`<ListingCard>`**: Card display for marketplace listings in browse view
   - Variants: Standard, Featured, Compact
   - States: Default, Hover, Selected, Acquired

2. **`<LicenseBadge>`**: Visual indicator of license type
   - Properties: type, showIcon, size
   - Types: open, standard, premium, enterprise, custom

3. **`<RatingDisplay>`**: Star rating visualization 
   - Properties: rating, maxRating, showCount, size
   - Variants: ReadOnly, Interactive (for review submission)

4. **`<FilterAccordion>`**: Expandable filter groups for the sidebar
   - Properties: title, defaultExpanded, children
   - States: Expanded, Collapsed, Loading

5. **`<ContentPreview>`**: Preview component for different content types
   - Properties: contentType, previewData, interactive
   - Types: Text, Image, Video, Quiz, Journey

6. **`<AcquireButton>`**: Action button for acquisition
   - Properties: licenseType, price, isAcquired, isProcessing
   - States: Default, Processing, Completed, Disabled

7. **`<JourneyPreview>`**: Specialized visualization for journey blueprint previews
   - Properties: phases, touchpoints, sampleData
   - Features: Interactive navigation, phase expansion

8. **`<ReviewForm>`**: Form component for submitting reviews
   - Properties: initialValues, dimensionOptions
   - Validation: Required fields, minimum length

9. **`<LicenseTermsDisplay>`**: Formatted display of license terms
   - Properties: licenseType, terms, highlightRestrictions
   - Features: Expandable sections, term comparison

10. **`<PublisherCard>`**: Information about the content publisher
    - Properties: name, logo, description, contentCount
    - Variants: Full, Compact

#### 5.3.2 UI States and Variations

Each component supports multiple states to handle different scenarios:

**Loading States**:
- Skeleton screens for cards during data fetch
- Progressive loading for image-heavy content
- Lazy loading for off-screen content

**Empty States**:
- No results messaging for searches and filters
- Empty library indicators
- Guided actions for first-time users

**Error States**:
- Network error recovery options
- Form validation error displays
- Access restriction indicators

**Success States**:
- Acquisition confirmation
- Publication success
- Import completion

### 5.4 Animation and Interaction Design

#### 5.4.1 Micro-interactions

- Card hover effects: Subtle elevation and shadow increase
- Button hover/focus states: Background lightening, subtle scale
- Expand/collapse animations: 300ms ease-in-out transitions
- Tab switching: Smooth content fade transitions

#### 5.4.2 Page Transitions

- List to detail: Content slides in from right
- Wizard steps: Horizontal slide transitions
- Modal entrances: Fade + scale up (200ms)
- Toast notifications: Slide in + fade (150ms)

#### 5.4.3 Interactive Previews

- Journey map: Pan and zoom capabilities
- Content preview: Interactive elements where applicable
- Review ratings: Interactive star selection with haptic feedback
- Image galleries: Smooth swiping and zooming

### 5.5 Mobile and Responsive Considerations

#### 5.5.1 Mobile Adaptations

- Filters move to modal/drawer accessible via button
- Grid collapses to single column
- Tab navigation becomes scrollable horizontal tabs
- Action buttons increase in size for touch targets
- Preview interactions optimized for touch

#### 5.5.2 Tablet Optimizations

- Hybrid layouts between desktop and mobile
- Sidebar collapses to expandable sections
- Split-screen capabilities on larger tablets
- Context menus adapt to touch inputs

#### 5.5.3 Progressive Enhancement

- Core functionality works without JavaScript
- Enhanced interactions added when supported
- Fallbacks for older browsers
- Performance optimizations for lower-end devices

## 6. API Integration

### 6.1 Marketplace API Endpoints

The Marketplace frontend integrates with a comprehensive set of API endpoints to provide its functionality. These endpoints align with the API definitions in `apis-enhanced.md` but are implemented through specific service and hook layers.

#### 6.1.1 Browsing and Discovery

**Endpoints**:

```typescript
// GET /api/v1/marketplace/listings
interface GetListingsRequest {
  page?: number;
  limit?: number;
  search?: string;
  filter?: {
    contentType?: ('module' | 'journey')[];
    licenseType?: string[];
    category?: string[];
    tags?: string[];
    priceRange?: [number, number];
    rating?: number;
    language?: string[];
    creatorId?: string;
  };
  sort?: 'recent' | 'popular' | 'rating' | 'price_asc' | 'price_desc';
}

interface GetListingsResponse {
  items: MarketplaceListingItem[];
  pagination: {
    total: number;
    pages: number;
    current: number;
    limit: number;
  };
  facets?: {
    contentType: { value: string; count: number }[];
    licenseType: { value: string; count: number }[];
    category: { value: string; count: number }[];
    // Additional facets...
  };
}

// GET /api/v1/marketplace/listings/{listingId}
interface GetListingDetailResponse {
  id: string;
  title: string;
  shortDescription: string;
  longDescription: string;
  thumbnailUrl: string;
  contentType: 'module' | 'journey';
  creator: {
    id: string;
    name: string;
    logoUrl: string;
    description: string;
  };
  license: {
    type: string;
    terms: Record<string, any>;
    price?: number;
    currency?: string;
  };
  previews: {
    type: string;
    url: string;
    thumbnail?: string;
  }[];
  rating: {
    average: number;
    count: number;
    distribution: number[];
    dimensions?: Record<string, number>;
  };
  metadata: {
    category: string[];
    tags: string[];
    language: string[];
    targetAudience: string[];
    createdAt: string;
    updatedAt: string;
  };
  // Additional fields...
}

// GET /api/v1/marketplace/listings/{listingId}/reviews
interface GetListingReviewsRequest {
  page?: number;
  limit?: number;
  sort?: 'recent' | 'helpful' | 'rating_high' | 'rating_low';
}

interface GetListingReviewsResponse {
  reviews: ListingReview[];
  pagination: {
    total: number;
    pages: number;
    current: number;
    limit: number;
  };
}
```

#### 6.1.2 Publishing and Management

**Endpoints**:

```typescript
// POST /api/v1/marketplace/publish
interface PublishListingRequest {
  contentId?: string; // For existing content
  journeyId?: string; // For existing journey
  title: string;
  shortDescription: string;
  longDescription: string;
  contentType: 'module' | 'journey';
  category: string[];
  tags: string[];
  language: string[];
  targetAudience: string[];
  previews: {
    type: string;
    file?: File; // For uploads
    url?: string; // For existing resources
    thumbnail?: string;
  }[];
  license: {
    type: string;
    terms: Record<string, any>;
    price?: number;
    currency?: string;
  };
  // Additional fields...
}

interface PublishListingResponse {
  id: string;
  status: 'pending_review' | 'published';
  submittedAt: string;
}

// GET /api/v1/marketplace/my-listings
interface GetMyListingsRequest {
  page?: number;
  limit?: number;
  status?: ('draft' | 'pending_review' | 'published' | 'rejected' | 'archived')[];
  sort?: 'recent' | 'popular' | 'rating';
}

interface GetMyListingsResponse {
  items: MyListingItem[];
  pagination: {
    total: number;
    pages: number;
    current: number;
    limit: number;
  };
}

// PATCH /api/v1/marketplace/my-listings/{listingId}
interface UpdateListingRequest {
  title?: string;
  shortDescription?: string;
  longDescription?: string;
  // All fields from PublishListingRequest as optional
}

// DELETE /api/v1/marketplace/my-listings/{listingId}
// No request body, returns 204 No Content
```

#### 6.1.3 Acquisition and Usage

**Endpoints**:

```typescript
// POST /api/v1/marketplace/listings/{listingId}/acquire
interface AcquireListingRequest {
  acceptTerms: boolean;
  // Additional acquisition options
}

interface AcquireListingResponse {
  acquisitionId: string;
  status: 'completed' | 'pending_approval' | 'pending_payment';
  contentId?: string; // If content was automatically imported
  journeyId?: string; // If journey was automatically imported
}

// GET /api/v1/marketplace/acquisitions
interface GetAcquisitionsRequest {
  page?: number;
  limit?: number;
  contentType?: ('module' | 'journey')[];
  status?: ('pending_import' | 'imported' | 'in_use' | 'expired')[];
  sort?: 'recent' | 'title';
}

interface GetAcquisitionsResponse {
  items: AcquisitionItem[];
  pagination: {
    total: number;
    pages: number;
    current: number;
    limit: number;
  };
}

// POST /api/v1/marketplace/acquisitions/{acquisitionId}/import
interface ImportAcquisitionRequest {
  targetFolderId?: string; // Optional folder to import into
  customName?: string; // Optional rename during import
}

interface ImportAcquisitionResponse {
  contentId?: string; // If content was imported
  journeyId?: string; // If journey was imported
  status: 'completed' | 'failed';
  message?: string; // Error message if failed
}
```

#### 6.1.4 Reviews and Ratings

**Endpoints**:

```typescript
// POST /api/v1/marketplace/listings/{listingId}/review
interface SubmitReviewRequest {
  rating: number;
  dimensionRatings?: Record<string, number>;
  reviewText: string;
  contextInfo?: string;
  isAnonymous?: boolean;
}

interface SubmitReviewResponse {
  id: string;
  submittedAt: string;
  status: 'published' | 'pending_moderation';
}

// PATCH /api/v1/marketplace/listings/{listingId}/reviews/{reviewId}
interface UpdateReviewRequest {
  rating?: number;
  dimensionRatings?: Record<string, number>;
  reviewText?: string;
  contextInfo?: string;
  isAnonymous?: boolean;
}

// POST /api/v1/marketplace/listings/{listingId}/reviews/{reviewId}/respond
interface RespondToReviewRequest {
  responseText: string;
}
```

### 6.2 API Service Layer

The API endpoints are implemented through a service layer in `src/lib/api/endpoints/marketplace.ts`, which provides type-safe functions for calling these endpoints:

```typescript
// src/lib/api/endpoints/marketplace.ts
import { client } from "../client";
import {
  GetListingsRequest,
  GetListingsResponse,
  GetListingDetailResponse,
  // Additional types...
} from "../types";

// Browsing and Discovery
export const getListings = async (params: GetListingsRequest): Promise<GetListingsResponse> => {
  return client.get("/marketplace/listings", { params });
};

export const getListingDetail = async (listingId: string): Promise<GetListingDetailResponse> => {
  return client.get(`/marketplace/listings/${listingId}`);
};

export const getListingReviews = async (
  listingId: string,
  params: GetListingReviewsRequest
): Promise<GetListingReviewsResponse> => {
  return client.get(`/marketplace/listings/${listingId}/reviews`, { params });
};

// Publishing and Management
export const publishListing = async (data: PublishListingRequest): Promise<PublishListingResponse> => {
  return client.post("/marketplace/publish", data);
};

export const getMyListings = async (params: GetMyListingsRequest): Promise<GetMyListingsResponse> => {
  return client.get("/marketplace/my-listings", { params });
};

export const updateListing = async (
  listingId: string,
  data: UpdateListingRequest
): Promise<void> => {
  return client.patch(`/marketplace/my-listings/${listingId}`, data);
};

export const deleteListing = async (listingId: string): Promise<void> => {
  return client.delete(`/marketplace/my-listings/${listingId}`);
};

// Acquisition and Usage
export const acquireListing = async (
  listingId: string,
  data: AcquireListingRequest
): Promise<AcquireListingResponse> => {
  return client.post(`/marketplace/listings/${listingId}/acquire`, data);
};

export const getAcquisitions = async (
  params: GetAcquisitionsRequest
): Promise<GetAcquisitionsResponse> => {
  return client.get("/marketplace/acquisitions", { params });
};

export const importAcquisition = async (
  acquisitionId: string,
  data: ImportAcquisitionRequest
): Promise<ImportAcquisitionResponse> => {
  return client.post(`/marketplace/acquisitions/${acquisitionId}/import`, data);
};

// Reviews and Ratings
export const submitReview = async (
  listingId: string,
  data: SubmitReviewRequest
): Promise<SubmitReviewResponse> => {
  return client.post(`/marketplace/listings/${listingId}/review`, data);
};

export const updateReview = async (
  listingId: string,
  reviewId: string,
  data: UpdateReviewRequest
): Promise<void> => {
  return client.patch(`/marketplace/listings/${listingId}/reviews/${reviewId}`, data);
};

export const respondToReview = async (
  listingId: string,
  reviewId: string,
  data: RespondToReviewRequest
): Promise<void> => {
  return client.post(`/marketplace/listings/${listingId}/reviews/${reviewId}/respond`, data);
};
```

### 6.3 Custom React Hooks

The API services are wrapped in custom React hooks in `src/hooks/features/useMarketplaceApi.ts` for consuming within components:

```typescript
// src/hooks/features/useMarketplaceApi.ts
import { useQuery, useMutation, useQueryClient } from "react-query";
import * as marketplaceApi from "../../lib/api/endpoints/marketplace";

// Hook for browsing listings
export const useListings = (params: GetListingsRequest) => {
  return useQuery(
    ["marketplace-listings", params],
    () => marketplaceApi.getListings(params),
    {
      keepPreviousData: true,
      staleTime: 30000, // 30 seconds
    }
  );
};

// Hook for listing detail
export const useListingDetail = (listingId: string) => {
  return useQuery(
    ["marketplace-listing", listingId],
    () => marketplaceApi.getListingDetail(listingId),
    {
      enabled: !!listingId,
    }
  );
};

// Hook for listing reviews
export const useListingReviews = (listingId: string, params: GetListingReviewsRequest) => {
  return useQuery(
    ["marketplace-reviews", listingId, params],
    () => marketplaceApi.getListingReviews(listingId, params),
    {
      enabled: !!listingId,
      keepPreviousData: true,
    }
  );
};

// Hook for publishing a listing
export const usePublishListing = () => {
  const queryClient = useQueryClient();
  
  return useMutation(
    (data: PublishListingRequest) => marketplaceApi.publishListing(data),
    {
      onSuccess: () => {
        queryClient.invalidateQueries("my-listings");
      },
    }
  );
};

// Hook for acquiring a listing
export const useAcquireListing = () => {
  const queryClient = useQueryClient();
  
  return useMutation(
    ({ listingId, data }: { listingId: string; data: AcquireListingRequest }) =>
      marketplaceApi.acquireListing(listingId, data),
    {
      onSuccess: () => {
        queryClient.invalidateQueries("acquisitions");
      },
    }
  );
};

// Additional hooks for other endpoints...
```

### 6.4 Error Handling and Validation

#### 6.4.1 Error Handling Strategy

Marketplace API errors are handled through a multi-layered approach:

1. **API Client Level**: Global error interceptor in `src/lib/api/client.ts` catches and categorizes errors

```typescript
// Error interceptor in client.ts
client.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response) {
      // Handle different status codes
      switch (error.response.status) {
        case 401:
          // Handle unauthorized (e.g., redirect to login)
          break;
        case 403:
          // Handle forbidden (e.g., insufficient permissions)
          break;
        case 404:
          // Handle not found
          break;
        case 429:
          // Handle rate limiting
          break;
        default:
          // Handle other errors
          break;
      }
      
      // Extract API error details if available
      const apiError = error.response.data?.error || {
        code: error.response.status,
        message: "An unknown error occurred",
      };
      
      return Promise.reject(apiError);
    }
    
    if (error.request) {
      // Network error
      return Promise.reject({
        code: "NETWORK_ERROR",
        message: "Unable to connect to the server",
      });
    }
    
    // Other errors
    return Promise.reject(error);
  }
);
```

2. **Hook Level**: React Query hooks provide error handling capabilities:

```typescript
const { data, error, isError } = useListings(params);

// Component can conditionally render based on error state
if (isError) {
  return (
    <ErrorDisplay 
      title="Unable to load marketplace listings"
      message={error.message}
      code={error.code}
      retryAction={() => refetch()}
    />
  );
}
```

3. **Component Level**: Form validation and user feedback:

```typescript
// Example of form validation in publish form
const validationSchema = yup.object({
  title: yup.string().required("Title is required").max(100),
  shortDescription: yup.string().required("Short description is required").max(250),
  category: yup.array().min(1, "At least one category is required"),
  license: yup.object({
    type: yup.string().required("License type is required"),
    terms: yup.object().when("type", {
      is: "premium",
      then: yup.object({
        price: yup.number().required("Price is required for premium license").min(0),
      }),
    }),
  }),
});
```

#### 6.4.2 Data Validation

1. **Request Validation**: Zod schemas validate data before API calls:

```typescript
// src/lib/validation/marketplace.ts
import { z } from "zod";

export const publishListingSchema = z.object({
  title: z.string().min(1).max(100),
  shortDescription: z.string().min(1).max(250),
  longDescription: z.string().min(1),
  contentType: z.enum(["module", "journey"]),
  category: z.array(z.string()).min(1),
  tags: z.array(z.string()),
  language: z.array(z.string()).min(1),
  // Additional fields...
});

// Usage in API service
export const publishListing = async (data: PublishListingRequest): Promise<PublishListingResponse> => {
  const validated = publishListingSchema.parse(data);
  return client.post("/marketplace/publish", validated);
};
```

2. **Response Validation**: Zod schemas ensure API responses match expected structure:

```typescript
export const listingResponseSchema = z.object({
  id: z.string(),
  title: z.string(),
  // Other fields...
});

export const getListingDetail = async (listingId: string): Promise<GetListingDetailResponse> => {
  const response = await client.get(`/marketplace/listings/${listingId}`);
  return listingResponseSchema.parse(response);
};
```

### 6.5 Performance Optimization

The Marketplace implements several strategies to optimize API interactions:

#### 6.5.1 Caching Strategy

React Query provides built-in caching with customized settings:

```typescript
// Query configuration in hooks
export const useListingDetail = (listingId: string) => {
  return useQuery(
    ["marketplace-listing", listingId],
    () => marketplaceApi.getListingDetail(listingId),
    {
      staleTime: 5 * 60 * 1000, // 5 minutes
      cacheTime: 30 * 60 * 1000, // 30 minutes
      refetchOnWindowFocus: false,
      refetchOnMount: true,
    }
  );
};
```

#### 6.5.2 Request Optimization

1. **Debounce Search**: Delay API calls during typing:

```typescript
// In search component
const [searchValue, setSearchValue] = useState("");
const debouncedSearch = useDebounce(searchValue, 300);

// Only trigger API call after debounce
useEffect(() => {
  if (debouncedSearch !== undefined) {
    setParams(prev => ({ ...prev, search: debouncedSearch }));
  }
}, [debouncedSearch]);
```

2. **Pagination with Infinite Scrolling**:

```typescript
// In listings view
const { 
  data, 
  fetchNextPage, 
  hasNextPage, 
  isFetchingNextPage 
} = useInfiniteListings({
  ...params,
  limit: 20,
});

// Infinite scroll hook
useIntersectionObserver({
  target: loadMoreRef,
  onIntersect: fetchNextPage,
  enabled: hasNextPage && !isFetchingNextPage,
});
```

3. **Optimistic Updates**: Apply UI changes before API completes:

```typescript
// In review submission
const { mutate: submitReview } = useSubmitReview({
  onMutate: async (newReview) => {
    // Cancel any outgoing refetches
    await queryClient.cancelQueries(["marketplace-reviews", listingId]);
    
    // Snapshot the previous value
    const previousReviews = queryClient.getQueryData(["marketplace-reviews", listingId]);
    
    // Optimistically update to the new value
    queryClient.setQueryData(["marketplace-reviews", listingId], old => ({
      ...old,
      reviews: [
        {
          id: "temp-id",
          ...newReview,
          reviewer: {
            name: currentUser.name,
            organization: currentUser.organizationName,
          },
          date: new Date().toISOString(),
          helpfulCount: 0,
        },
        ...old.reviews,
      ],
    }));
    
    return { previousReviews };
  },
  onError: (err, newReview, context) => {
    // If the mutation fails, roll back to the previous value
    queryClient.setQueryData(["marketplace-reviews", listingId], context.previousReviews);
    
    // Show error toast
    toast.error("Failed to submit review");
  },
});
```

## 7. User Journeys

This section outlines the complete end-to-end user journeys for key marketplace scenarios. Each journey represents a sequence of user interactions and system responses that accomplish specific goals. These journeys serve as the foundation for UX design, component behavior, and ultimately implementation.

### 7.1 Browsing and Discovering Content (Client Organization)

#### 7.1.1 Basic Browsing Flow

**User**: Training Manager at a Client Organization
**Goal**: Find relevant content for an upcoming worker wellbeing program

**Journey Steps**:

1. **Enter Marketplace**
   - User navigates to `/marketplace` from the main navigation
   - System displays the marketplace browse page with featured content and recently added items
   - UI Components: `MarketplaceBrowsePage`, `FeaturedCarousel`, `CategoryNav`

2. **Apply Initial Filters**
   - User selects "Wellbeing" from the category navigation
   - System updates the listing grid to show only wellbeing-related content
   - User toggles the filter to show only "Journey Blueprints"
   - System updates the grid again, applying both filters
   - UI Components: `FilterSidebar`, `CategoryButton`, `FilterCheckbox`

3. **Search Refinement**
   - User enters "stress management" in the search box
   - System displays typeahead suggestions as user types
   - After a brief pause, system updates results to match the search term
   - UI Components: `SearchBar`, `SearchSuggestions`

4. **Results Exploration**
   - User scrolls through the results grid
   - System lazy-loads additional results as user scrolls
   - User hovers over a listing card
   - System displays a quick preview tooltip
   - UI Components: `ListingCard`, `QuickPreviewTooltip`

5. **Filter Adjustment**
   - User expands additional filters in the sidebar
   - User selects "Rating: 4+" and "Free Only" 
   - System updates results to match all selected criteria
   - UI Components: `FilterAccordion`, `RatingFilter`, `LicenseTypeFilter`

6. **Sort Results**
   - User changes the sort order from "Relevance" to "Highest Rated"
   - System re-orders the results according to the new sort criteria
   - UI Components: `SortDropdown`

7. **Save Interesting Items**
   - User clicks "Save" on two interesting journey cards
   - System adds items to the user's saved list (without page navigation)
   - System displays a brief confirmation toast
   - UI Components: `SaveButton`, `ToastNotification`

**Alternate Flows**:

- **No Results Found**:
  - If search or filters yield no results
  - System displays empty state with suggestions
  - User can click "Reset Filters" to start over
  - UI Components: `EmptyResultsState`

- **Category Browsing**:
  - User can click through category hierarchy
  - System shows breadcrumb navigation for current location
  - UI Components: `CategoryBreadcrumbs`

#### 7.1.2 Detailed Content Evaluation

**User**: Program Manager at a Client Organization
**Goal**: Evaluate a specific journey blueprint in detail before acquisition

**Journey Steps**:

1. **Access Listing Details**
   - User clicks on a journey blueprint card from search results
   - System navigates to `/marketplace/listings/[journeyId]`
   - System displays the detailed listing page with all information
   - UI Components: `ListingDetailPage`, `ListingHeader`

2. **Review Description and Features**
   - User reads through the overview tab (default)
   - System shows description, features, and impact metrics
   - User expands the "Implementation Requirements" section
   - System reveals additional details in an accordion
   - UI Components: `OverviewTab`, `ExpandableSection`

3. **Examine Preview Content**
   - User clicks on the "Content" tab
   - System displays preview gallery and sample content
   - User clicks through the journey phase visualization
   - System highlights different phases and touchpoints
   - User plays a sample video preview
   - System displays the embedded video player
   - UI Components: `ContentTab`, `PreviewGallery`, `JourneyPreview`, `VideoPlayer`

4. **Check Reviews and Ratings**
   - User clicks on the "Reviews" tab
   - System shows rating summary and detailed reviews
   - User sorts reviews by "Most Critical" to see potential issues
   - System re-orders the review list
   - User expands a publisher response to a critical review
   - System reveals the full response text
   - UI Components: `ReviewsTab`, `RatingSummary`, `ReviewCard`, `PublisherResponse`

5. **Understand License Terms**
   - User clicks on the "License" tab
   - System displays detailed license information
   - User expands the "Usage Limitations" section
   - System shows specific constraints on usage
   - UI Components: `LicenseTab`, `LicenseTermsDisplay`

6. **Check Creator Reputation**
   - User clicks on the creator organization name
   - System displays a modal with creator details and other offerings
   - User reviews the creator's ratings and history
   - UI Components: `CreatorModal`, `CreatorListings`

7. **Share with Colleagues**
   - User clicks the "Share" button
   - System displays sharing options (email, copy link, etc.)
   - User copies the link to clipboard
   - System confirms with a toast notification
   - UI Components: `ShareModal`, `ToastNotification`

**Alternate Flows**:

- **Related Content Exploration**:
  - User can browse related listings at the bottom of detail page
  - Clicking related items navigates to their detail pages
  - UI Components: `RelatedListings`

- **Report Issues**:
  - User can report inappropriate content via "Report" button
  - System displays a report form in a modal
  - UI Components: `ReportModal`

### 7.2 Publishing Content (Expert Organization)

#### 7.2.1 Basic Publishing Flow

**User**: Content Specialist at an Expert Organization
**Goal**: Publish a newly created journey blueprint to the marketplace

**Journey Steps**:

1. **Initiate Publishing**
   - From the Journey Builder, user clicks "Publish to Marketplace"
   - Alternatively, user navigates to `/marketplace/publish` and selects existing content
   - System displays the publishing wizard at step 1 (Content Selection)
   - UI Components: `PublishingWizard`, `ContentSelector`

2. **Select Content to Publish**
   - User selects a journey blueprint from their organization's library
   - System displays basic information about the selected journey
   - User confirms selection and proceeds to next step
   - UI Components: `ContentSelectionGrid`, `ContentPreviewCard`, `StepNavigation`

3. **Configure Listing Details**
   - System pre-fills form with basic information from the journey (title, description)
   - User edits and enhances the marketplace description
   - User selects appropriate categories and tags
   - User specifies target audience and languages
   - System validates entries as user completes fields
   - User proceeds to next step
   - UI Components: `ListingDetailsForm`, `CategorySelector`, `TagInput`, `FormValidation`

4. **Prepare Preview Content**
   - User uploads a thumbnail/featured image for the listing
   - User selects which parts of the journey to include in preview
   - User uploads additional screenshots or media
   - User records optional walkthrough video or uploads existing video
   - User proceeds to next step
   - UI Components: `ThumbnailUploader`, `PreviewContentSelector`, `MediaUploader`

5. **Configure License Terms**
   - User selects license type (e.g., "Standard")
   - Based on selection, system shows relevant license parameters
   - User configures usage limitations (if applicable)
   - User sets attribution requirements
   - User configures pricing (if premium license)
   - User proceeds to next step
   - UI Components: `LicenseTypeSelector`, `LicenseTermsForm`, `PricingConfiguration`

6. **Review and Submit**
   - System displays a complete summary of the listing
   - User reviews all information in a format similar to final listing
   - User accepts terms and conditions
   - User clicks "Submit for Review"
   - System shows confirmation and submission status
   - UI Components: `ListingSummary`, `TermsCheckbox`, `SubmitButton`, `ConfirmationMessage`

7. **Track Submission Status**
   - System navigates to "My Listings" page
   - User sees the newly submitted listing with "Pending Review" status
   - User can edit the submission if needed
   - UI Components: `MyListingsPage`, `ListingStatusBadge`

**Alternate Flows**:

- **Save Draft**:
  - User can save progress at any step
  - System preserves partial information
  - User can resume later from saved point
  - UI Components: `SaveDraftButton`

- **Validation Errors**:
  - If required fields are missing, system shows inline errors
  - Navigation to next step is prevented until errors are resolved
  - UI Components: `ValidationErrorMessage`

- **Submission Rejection**:
  - If administrators reject the submission, user receives notification
  - User can view rejection reasons
  - User can edit and resubmit
  - UI Components: `RejectionNotification`, `RejectionDetails`

#### 7.2.2 Managing Published Content

**User**: Expert Organization Admin
**Goal**: Monitor and update existing marketplace listings

**Journey Steps**:

1. **Access Listings Management**
   - User navigates to `/marketplace/my-listings`
   - System displays a table/grid of all organization's marketplace listings
   - User can see status, acquisition metrics, and rating for each listing
   - UI Components: `MyListingsPage`, `ListingManagementTable`

2. **Filter and Sort Listings**
   - User filters the list to show only "Published" status items
   - User sorts by "Most Acquired" to see popular content
   - System updates the table according to the criteria
   - UI Components: `StatusFilter`, `SortControls`

3. **Review Performance Metrics**
   - User selects a specific listing to view detailed metrics
   - System displays acquisition trends, ratings, and review summaries
   - User examines geographic distribution of acquisitions
   - System shows an interactive map visualization
   - UI Components: `PerformanceMetricsPanel`, `MetricChart`, `GeographicDistributionMap`

4. **Update Listing Content**
   - User clicks "Edit" on a listing
   - System opens the edit form with current values
   - User updates the description and adds new tags
   - User uploads a new featured image
   - User saves changes
   - System shows confirmation and updates listing
   - UI Components: `EditListingForm`, `TagEditor`, `ImageUploader`

5. **Respond to Reviews**
   - User clicks "Reviews" tab in listing management
   - System displays all reviews for the selected listing
   - User identifies a critical review needing response
   - User clicks "Respond" and enters response text
   - System publishes the response and links it to the review
   - UI Components: `ReviewsManagementTab`, `ReviewList`, `ResponseForm`

6. **Manage License Terms**
   - User selects "Update License" for a listing
   - System displays current license configuration
   - User adjusts usage limitations for new acquirers
   - User saves changes
   - System applies changes for future acquisitions (not retroactive)
   - UI Components: `LicenseUpdateForm`, `VersioningNotice`

7. **Archive Outdated Content**
   - User selects an outdated listing
   - User clicks "Archive" from the actions menu
   - System displays confirmation dialog with implications
   - User confirms archive action
   - System moves listing to archived state (not visible to new acquirers)
   - UI Components: `ArchiveConfirmationDialog`

**Alternate Flows**:

- **Feature Request**:
  - User can request admin to feature a particular listing
  - System shows request form
  - UI Components: `FeatureRequestForm`

- **Bulk Actions**:
  - User can select multiple listings
  - System enables bulk actions (update categories, archive)
  - UI Components: `BulkActionToolbar`

### 7.3 Acquiring Content (Client Organization)

#### 7.3.1 Content Acquisition Flow

**User**: Training Manager at a Client Organization
**Goal**: Acquire a journey blueprint and import it into their library

**Journey Steps**:

1. **Decide to Acquire**
   - From a listing detail page, user reviews all information
   - User decides to acquire the journey and clicks "Acquire" button
   - For free content, system shows license confirmation dialog
   - For premium content, system shows pricing and terms confirmation
   - UI Components: `AcquireButton`, `LicenseConfirmationDialog`, `PricingSummary`

2. **Confirm License Agreement**
   - System displays the complete license terms
   - User must scroll through entire agreement
   - User checks box confirming acceptance of terms
   - User clicks "Confirm Acquisition"
   - UI Components: `LicenseAgreementDisplay`, `AcceptanceCheckbox`

3. **Authorization Check (for Premium)**
   - For premium content, system checks user's acquisition authority
   - If user has sufficient authority, process continues
   - If approval needed, system initializes approval workflow
   - System notifies user of approval requirement and status
   - UI Components: `AuthorizationCheck`, `ApprovalRequestForm`

4. **Process Acquisition**
   - System displays processing indicator
   - System registers the acquisition in the database
   - For premium content, system handles payment processing
   - System displays success confirmation
   - UI Components: `ProcessingIndicator`, `SuccessConfirmation`

5. **Import Options**
   - System displays import options dialog
   - User can choose to:
     - Import immediately to library
     - Import later from acquisitions page
     - Import with customization options
   - User selects "Import Now"
   - UI Components: `ImportOptionsDialog`, `CustomizationOptions`

6. **Import Process**
   - System displays import progress
   - System copies the journey blueprint to organization's library
   - System maintains linkage to original marketplace listing
   - System confirms successful import
   - UI Components: `ImportProgressIndicator`, `ImportConfirmation`

7. **Post-Acquisition Actions**
   - System offers follow-up actions:
     - View in journey library
     - Create a program using this journey
     - View other content from this creator
   - User selects "View in Journey Library"
   - System navigates to the journey detail in the Journey Builder
   - UI Components: `PostAcquisitionActions`, `ActionButtons`

**Alternate Flows**:

- **Approval Required**:
  - If user lacks authority for premium acquisition
  - System creates approval request to Org Admin
  - User sees pending status
  - Upon approval, user receives notification
  - UI Components: `ApprovalPendingStatus`, `ApprovalNotification`

- **Import Later**:
  - User can choose to import later
  - System adds to acquisitions list without import
  - User can import from acquisitions page
  - UI Components: `DeferredImportOption`

- **License Conflicts**:
  - If license conflicts with existing content
  - System displays warning with details
  - User can continue or cancel
  - UI Components: `LicenseConflictWarning`

#### 7.3.2 Managing Acquisitions

**User**: Program Manager at a Client Organization
**Goal**: Manage existing marketplace acquisitions and utilize content

**Journey Steps**:

1. **Access Acquisitions**
   - User navigates to `/marketplace/acquisitions`
   - System displays a list of all organization's acquisitions
   - User sees acquisition date, content type, status, and usage
   - UI Components: `AcquisitionsPage`, `AcquisitionTable`

2. **Filter and Search**
   - User selects filters for "Not Yet Imported" items
   - User searches for a specific journey by name
   - System updates the table with filtered results
   - UI Components: `AcquisitionFilters`, `SearchBar`

3. **Import Pending Acquisition**
   - User selects a pending acquisition
   - User clicks "Import Now"
   - System displays import options dialog
   - User selects destination folder and optional renaming
   - System processes the import
   - System updates status to "Imported"
   - UI Components: `ImportDialog`, `FolderSelector`, `ImportProgressIndicator`

4. **Check License Status**
   - User reviews the "License" column for each acquisition
   - System highlights items with expiring licenses in yellow
   - User clicks on an expiring license badge
   - System displays license details and renewal options
   - UI Components: `LicenseBadge`, `ExpiryWarning`, `LicenseDetailsModal`

5. **Submit Review**
   - User selects an acquisition they've used
   - User clicks "Leave Review"
   - System displays review form with rating scales and text area
   - User completes the review with implementation context
   - System submits review and updates review status
   - UI Components: `ReviewButton`, `ReviewForm`, `RatingSliders`

6. **Track Usage**
   - User clicks the "Usage" indicator for an acquisition
   - System displays modal with usage statistics
   - User sees which programs use this content and their status
   - User sees worker reach and completion metrics
   - UI Components: `UsageIndicator`, `UsageStatsModal`, `UsageMetrics`

7. **Direct Program Creation**
   - User selects a journey blueprint acquisition
   - User clicks "Use in Program"
   - System navigates to program creation wizard
   - System pre-selects the acquired journey in the wizard
   - UI Components: `UseInProgramButton`

**Alternate Flows**:

- **Renew License**:
  - For expired/expiring licenses
  - User can initiate renewal process
  - System shows renewal options and pricing
  - UI Components: `RenewalOptions`

- **Report Issues**:
  - User can report problems with acquired content
  - System creates support ticket linked to acquisition
  - UI Components: `ReportIssueForm`

- **Bulk Import**:
  - User can select multiple pending imports
  - System allows batch import operation
  - UI Components: `BulkImportAction`

### 7.4 Administrator Moderation (ABCD Admin)

#### 7.4.1 Submission Review Flow

**User**: ABCD Platform Administrator
**Goal**: Review and approve/reject marketplace submissions

**Journey Steps**:

1. **Access Submission Queue**
   - Admin navigates to admin panel and selects "Marketplace Submissions"
   - System displays a queue of pending submissions with basic info
   - Admin can see submission date, organization, content type
   - UI Components: `AdminPanelPage`, `SubmissionQueue`

2. **Select Submission for Review**
   - Admin clicks on a submission to review
   - System displays comprehensive review interface
   - Admin sees all submission details including previews
   - UI Components: `SubmissionReviewInterface`

3. **Review Content and Metadata**
   - Admin reviews listing title, description, and categorization
   - Admin checks for accuracy, appropriateness, and completeness
   - Admin flags any problematic text or categorization
   - UI Components: `ContentReviewSection`, `ModerationFlags`

4. **Review Preview Materials**
   - Admin views all preview content (images, videos, samples)
   - Admin checks for appropriate content and accurate representation
   - Admin flags any misleading or inappropriate preview materials
   - UI Components: `PreviewReviewSection`

5. **Check License Terms**
   - Admin reviews license type and terms
   - Admin ensures terms are clear and appropriate
   - Admin verifies pricing if premium content
   - UI Components: `LicenseReviewSection`

6. **Make Approval Decision**
   - Admin selects approval status (Approve/Reject/Request Changes)
   - For rejection or change requests, admin provides specific reasons
   - Admin submits the decision
   - System updates submission status and notifies publisher
   - UI Components: `ApprovalDecisionForm`, `ReasonSelectionList`

7. **Follow-up Actions**
   - Admin can feature approved content on marketplace homepage
   - Admin can add internal notes about the submission
   - Admin can move to next submission in queue
   - UI Components: `FeatureContentToggle`, `AdminNotes`, `NextSubmissionButton`

**Alternate Flows**:

- **Request Additional Information**:
  - Admin can pause review and request clarification
  - System sends request to publisher
  - Submission remains in pending state
  - UI Components: `InformationRequestForm`

- **Conditional Approval**:
  - Admin can approve with minor change requirements
  - System notifies publisher of required changes
  - Content publishes once changes are verified
  - UI Components: `ConditionalApprovalForm`

#### 7.4.2 Marketplace Management Flow

**User**: ABCD Platform Administrator
**Goal**: Monitor marketplace activity and manage featured content

**Journey Steps**:

1. **Access Marketplace Dashboard**
   - Admin navigates to admin panel and selects "Marketplace Dashboard"
   - System displays overview metrics and activity feeds
   - Admin sees submissions, approvals, acquisitions, and reviews
   - UI Components: `MarketplaceAdminDashboard`, `ActivityMetrics`

2. **Monitor Review Activity**
   - Admin selects "Reviews" tab
   - System displays recent reviews and flagged content
   - Admin can filter by rating, flags, or date
   - UI Components: `ReviewsMonitoringTab`, `FlaggedReviewsList`

3. **Moderate Flagged Review**
   - Admin selects a flagged review
   - System displays the review, flag reason, and context
   - Admin reviews for policy violations
   - Admin selects action (Approve, Edit, Remove)
   - System updates review status according to decision
   - UI Components: `ReviewModerationInterface`, `ModerationActionButtons`

4. **Manage Featured Content**
   - Admin selects "Featured Content" tab
   - System displays current featured items and scheduling
   - Admin can add or remove featured content
   - Admin can set featured duration and position
   - UI Components: `FeaturedContentManager`, `FeaturedItemScheduler`

5. **Handle Disputes**
   - Admin selects "Disputes" tab
   - System shows open disputes between publishers and acquirers
   - Admin reviews dispute details and communication
   - Admin makes ruling and provides reasoning
   - System notifies parties and implements resolution
   - UI Components: `DisputeManagementInterface`, `ResolutionForm`

6. **Review Marketplace Analytics**
   - Admin selects "Analytics" tab
   - System displays comprehensive marketplace metrics
   - Admin can view trends, popular content, user engagement
   - Admin can export reports for stakeholders
   - UI Components: `MarketplaceAnalytics`, `TrendCharts`, `ExportControls`

7. **Configure Marketplace Settings**
   - Admin selects "Settings" tab
   - System displays global marketplace configuration
   - Admin can adjust categories, license types, and policies
   - Admin can update review guidelines and terms
   - UI Components: `MarketplaceSettingsPanel`, `CategoryManager`

**Alternate Flows**:

- **Emergency Content Removal**:
  - Admin can immediately remove problematic content
  - System provides expedited removal workflow
  - Notification sent to relevant parties
  - UI Components: `EmergencyRemovalTool`

- **Publisher Communication**:
  - Admin can send notices to specific publishers
  - System tracks communication history
  - UI Components: `PublisherMessageCenter`

## 8. Implementation Guidelines
- Component architecture
- State management
- Performance considerations
- Accessibility requirements

## 9. Testing Strategy
- Component testing
- Integration testing
- User acceptance testing

## 10. Future Enhancements
- Analytics and insights
- Recommendation engine
- Monetization strategies 